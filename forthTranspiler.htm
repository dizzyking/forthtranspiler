<!-- saved from url=(0045)file:///C:/ksana2015/forthtranspiler/test.htm -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="stylesheet" type="text/css" href="forthTranspiler.css">
<script src="bundle.js"></script>
<script>
function init(){
	msgJs.innerText='';
	var f2js	=Transpile.transpile;
	window.transpile=function(forthCode){
		var jsCode	=f2js(forthCode);
		var result	=eval(jsCode);
		console.log('trans -->',result.out);
		return result;
	}
	window.trace=Transpile.trace;
}
</script>
</head><body onload="init()">
<textarea id="tool">
window.trans=function(leftCode){
  var t0=new Date().getTime();
  transpile(leftCode.replace(/\r\n/g,'\n'));
  var t=new Date().getTime()-t0;
  msgJs.innerText+=
  '\nrun this code by trans needs '+t+' ms';
}</textarea><br>
<script>
var clicked=function(){
	trace(parseInt(document.getElementsByTagName('input')[0].value));
	eval(tool.value);
	trans(test3.value); }
</script>
<textarea id="test3">
: x 0 9
  begin ?dup
  while swap over + swap 1-
  repeat .
; x
</textarea>
<button onclick="clicked()">run forth code by trans</button>
traceLevel<input value=0 size=1></input>
<pre id="msgJs">after clicking the 'run' button
forth code will be transpiled
to js code and run</pre>
</body></html>